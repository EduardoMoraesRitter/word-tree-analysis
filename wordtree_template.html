<html>

<head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

        google.charts.load('current', { packages: ['wordtree'] });

        var chart;
        var data;
        var options = {
            wordtree: {
                format: 'implicit',
                word: '${root_word}',
                type: '${tree_type}'
            }
        };

        function initChart() {
            data = google.visualization.arrayToDataTable(${json_formatted});
            chart = new google.visualization.WordTree(document.getElementById('wordtree_basic'));
        }

        function drawChart() {
            chart.draw(data, options);
        }

        function setRootWordFromForm() {
            options.wordtree.word = document.getElementById('root_word').value;
            drawChart();
        }

        google.charts.setOnLoadCallback(function () {
            initChart();
            drawChart();
        });

    </script>
</head>

<body>
    Root Word:
    <input type="text" id="root_word" value="${root_word}">
    <button type="button" onclick="setRootWordFromForm()">Update Tree</button>
    <br>
    <div id="wordtree_basic" style="width: 900px; height: 600px;"></div>
</body>

</html>